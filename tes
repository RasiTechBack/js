/*
 * customScript.js
 * Mendefinisikan fungsi untuk set warna, font, font-size
 * pada seluruh elemen maupun pada teks tertentu saja.
 */

(function(global) {
  'use strict';

  // 1) Mengubah warna teks seluruh elemen yang match selector
  global.setColor = function(selector, color) {
    document.querySelectorAll(selector).forEach(el => {
      el.style.color = color;
    });
  };

  // 2) Mengubah font-family seluruh elemen yang match selector
  global.setFont = function(selector, fontName) {
    document.querySelectorAll(selector).forEach(el => {
      el.style.fontFamily = fontName;
    });
  };

  // 3) Mengubah ukuran font (px) seluruh elemen yang match selector
  global.setFontSize = function(selector, size) {
    document.querySelectorAll(selector).forEach(el => {
      el.style.fontSize = size + "px";
    });
  };

  // 4) Mengubah style hanya pada teks tertentu (substring) di dalam elemen
  global.setCustomStyleForText = function(selector, targetText, color, fontName, fontSize) {
    // Naif: ganti semua kemunculan targetText di innerHTML
    // dengan <span style="...">targetText</span>
    // Peringatan: bisa "merusak" markup jika targetText berada di tag lain
    const styledSpan = `<span style="color:${color}; font-family:${fontName}; font-size:${fontSize}px;">${targetText}</span>`;
    const re = new RegExp(targetText, 'g'); // cari semua substring yang cocok

    document.querySelectorAll(selector).forEach(el => {
      el.innerHTML = el.innerHTML.replace(re, styledSpan);
    });
  };

  // -------------------------------------------------------
  // Demonstrasi
  // -------------------------------------------------------
  console.log("Memulai customScript.js ...");

  // 1) Ubah warna body menjadi "lightgreen"
  setColor("body", "lightgreen");

  // 2) Ubah font body menjadi "Georgia"
  setFont("body", "Georgia");

  // 3) Ubah font-size body menjadi 18px
  setFontSize("body", 18);

  // 4) Ganti substring "CMD" di <body> dengan warna merah, font Courier, size 24
  setCustomStyleForText("body", "CMD", "red", "Courier New", 24);

  // Pesan akhir
  console.log("Selesai mengubah style melalui customScript.js");
})(this);
